<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAC Movies</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"></script>    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel ="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/poppers.js/1.12.9/udm/popper.min.js" > </script>    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"> </script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="script.js"></script>
</head>
<body>
    <header id="top">
        <nav>
            <a href="index.html" class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24"><path fill="currentColor" d="M14 5v14h-4V5zm6-2h-2v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2zm-4 6V7h2v2zM6 9V7h2v2zm10 4v-2h2v2zM6 13v-2h2v2zm10 4v-2h2v2zM6 17v-2h2v2z"/></svg>
                <span>CAC-Movies</span>
            </a>
            <ul>
                <li><a href="index.html#tendencias">Tendencia</a></li>
                <li><a id="ButtonRegister" data-target="#ModalRegistrarse" data-toggle="modal">Registrarse</a></li>
                <li><a data-toggle="modal" id="ButtonSession" data-target="#ModalSession">Iniciar Sesión</a></li>
            </ul>
        </nav>
    </header>
        <!-- Modal Inicio de sesion -->
        <form action="" method="POST" enctype="multipart/form-data" id="formLogin">
            <div class="modal fade" id="ModalSession" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document" >
                    <div class="modal-content " style="background-color: white;">
                    <div class="modal-header" >
                        <h5 class="modal-title" id="exampleModalLabel">Iniciar sesión</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <label for="email_login">Correo:</label>
                                <input type="email" class="form-control"  name="email_login" placeholder="Ingrese su correo" id="email_login" required>
                                <br>
                            </div>
        
                            <div class="form-group col-md-12">
                                <label for="password_login">Contraseña:</label>
                                <input type="password" class="form-control"  name="password_login" placeholder="Ingrese su contraseña" id="password_login" required>
                                <br>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" type="submit" name="login">Entrar</button>
                        o
                        <button class="btn btn-primary" type="reset"  id="switchL">Registrarse</button>
                    </div>
                    </div>
                </div>
                </div>
        </form>
        <!-- Modal de inicio de sesion -->
    
        <!-- Modal de Registrarse -->
        <form action="" method="POST" id="formRegister">
        <div class="modal fade" id="ModalRegistrarse" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="background-color: white;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Registrarse</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                    <div class="form-group col-md-12">
                        <label for="email">Correo:</label>
                        <input type="text" class="form-control" name="email" placeholder="Ingrese su mail" id="email" >
                        <span id="error_tip_email"></span>
                        <br>
                    </div>
    
                    <div class="form-group col-md-12">
                        <label for="user">Usuario:</label>
                        <input type="text" class="form-control"  name="user" placeholder="Ingrese su contraseña" id="user" >
                        <span id="error_tip_user"></span>
                        <br>
                    </div>
    
                    <div class="form-group col-md-12">
                        <label for="fecha">Fecha de nacimiento</label>
                        <input type="date" class="form-control"  name="fecha" placeholder="Ingrese su contraseña" id="fecha" >
                        <br>
                    </div>
    
                    <div class="form-group col-md-6">
                        <label for="password">Contraseña:</label>
                        <input type="password" class="form-control"  name="password" placeholder="Ingrese su contraseña" id="password" >
                        <span id="error_tip_pass"></span>
                        <br>
                    </div>
    
                    <div class="form-group col-md-6">
                        <label for="confirm_password">Contraseña:</label>
                        <input type="password" class="form-control"  name="confirm_password" placeholder="Reingrese su contraseña" id="confirm_password" >
                        <span id="error_tip_pass_confirm"></span>
                        <br>
                    </div>
                    
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" type="submit" name="register">Registrarse</button>
                    o
                    <button class="btn btn-primary" type="reset"  id="switchR">Login</button>
                </div>
                </div>
            </div>
            </div>
        </form>
        <!-- Modal de Registrarse -->
    
    <main class="container">
        <h1>API</h1>

        <div class="row" id="API-IMG"></div>

    </main>

    <script>
        const API = document.getElementById("API-IMG");

        const settings = {
            async: true,
            crossDomain: true,
            url: 'https://imdb-top-100-movies.p.rapidapi.com/',
            method: 'GET',
            headers: {
                'x-rapidapi-key': '05dd85bbebmsh31cf51c81a853fcp1bc0bcjsn69760b132b3f',
                'x-rapidapi-host': 'imdb-top-100-movies.p.rapidapi.com'
            }
        };

        $.ajax(settings).done(function (response) {
            console.log(response);
            response.forEach(e => {

                const div = document.createElement('div');
                const img = document.createElement('img');

                div.className += 'col-3 gap-1';
                img.src = e.image;
                img.alt = e.title;
                img.style.width = '200px';
                

                const p = document.createElement('p');

                p.style.color = 'white';
                p.textContent = e.name;
                div.appendChild(img);
                div.appendChild(p);
                API.appendChild(div);
            })
        });

    </script>
</body>
</html>